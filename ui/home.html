<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Muli Font from Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Muli" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <link rel="stylesheet" href="./bower_components/bootstrap-calendar/css/calendar.css">

  <title> Congregation Scheduler </title>
  <style>
    body {
      font-family: 'Muli', sans-serif;
    }

    #title {
      text-indent: 10px;
    }

    .affix {
      top: 20px;
      z-index: 9999 !important;
    }

    button {
      border-radius: 10px;
    }

    .popover {
      max-width: 100%;
    }

    .content {
      position : relative;
    }

    #button-row {
      padding-top : 12px;
      padding-bottom : 5px;
    }

    #left-button-link {
      position : fixed;
      bottom : 0;
      left : 0;
    }

    #right-button-link {
      position : fixed;
      bottom : 0;
      right : 0;
    }

  </style>
  <script type="text/javascript">
    function getAssignments() {
      //call API to get list of assignments for current Congregation
      /*var congId = 1; //change this to current congregation later
      var url = "http://localhost:8080/api/congregation/" + congId + "/assignments"
      $.ajax({
        url: url,
        type: 'GET',
        success: function

      });*/

      return [{
        "id": 293,
        "title": "Event 1",
        "url": "http://example.com",
        "class": "event-important",
        "start": 1538664931221, // Milliseconds
        "end": 1538664931229 // Milliseconds
      }];
    }
  </script>
</head>

<body>
  <div>
    <h1 id="title">Cupertino Congregation</h1>
  </div>


  <!-- Optional Javascript -->

  <nav class="navbar navbar navbar-default navbar-static-top">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="http://localhost/scheduler/home.html">Home</a>
      </div>
      <ul class="nav navbar-nav navbar-left">
        <li><a href="http://localhost/scheduler/publishers.html">Publishers</a></li>
        <li><a href="http://localhost/scheduler/about.html">About</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="#"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
      </ul>
    </div>
  </nav>

  <!-- Stack of options: Ministry School, SBCC, Sound -->
  <div class="container-fluid">
    <div class="row">
      <nav class="col-xs-3">
        <ul class="nav nav-pills nav-stacked" data-spy="affix" data-offset-top="205">
          <li class="active"><a href="#section1">Ministry School</a></li>
          <li><a href="#section2">SBCC – Weekday</a></li>
          <li><a href="#section3">SBCC – Weekend</a></li>
          <li><a href="#section4">Sound</a></li>
          <script>
            $(".nav li").on("click", function() {
              $(".nav li").removeClass("active");
              $(this).addClass("active");
            });
          </script>
        </ul>
      </nav>
      <div class="col-xs-9">
        <div>
          <button id="popover" type="button" class="btn btn-md btn-success">
            Create Assignment
          </button>

          <script>
            $('#popover').popover({
            html : true,
            content: function() {
              return $("#popover-content").html();
            }
          });
          </script>

          <div class="container-fluid hide" id="popover-content">
            <h3>Ministry School Assignment Slip</h3>
            <form class="form-horizontal">
              <div class="form-group">
                <label class="col-xs-3 control-label">Name:</label>
                <div class="col-xs-9">
                  <input class="form-control" type="text" placeholder="姓名" required>
                </div>
              </div>
              <div class="form-group">
                <label class="col-xs-3 control-label">Assistant:</label>
                <div class="col-xs-9">
                  <input class="form-control" type="text" placeholder="助手">
                </div>
              </div>
              <div class="form-group">
                <label class="col-xs-3 control-label">Date:</label>
                <div class="col-xs-9">
                  <input class="form-control" type="text" placeholder="日期" required>
                </div>
              </div>
              <div class="form-group">
                <label class="col-xs-3 control-label">Study Point:</label>
                <div class="col-xs-9">
                  <input class="form-control" type="text" placeholder="受訓項目">
                </div>
              </div>
              <h4>Assignment Type:</h4>
              <div class="col-xs-6">
                <div class="radio">
                  <label for="bibleReading"><input id="bibleReading" type="radio" name="assignmentType">Bible Reading</label>
                </div>
                <div class="radio">
                  <label for="initialVisit"><input id="initialVisit" type="radio" name="assignmentType">Initial Visit</label>
                </div>
                <div class="radio">
                  <label for="firstReturnVisit"><input id="firstReturnVisit" type="radio" name="assignmentType">First Return Visit</label>
                </div>
                <div class="radio">
                  <label for="secondReturnVisit"><input id="secondReturnVisit" type="radio" name="assignmentType">Second Return Visit</label>
                </div>
              </div>
              <div class="col-xs-6">
                <div class="radio">
                  <label for="thirdReturnVisit"><input id="thirdReturnVisit" type="radio" name="assignmentType">Third Return Visit</label>
                </div>
                <div class="radio">
                  <label for="bibleStudy"><input id="bibleStudy" type="radio" name="assignmentType">Bible Study</label>
                </div>
                <div class="radio">
                  <label for="bibleTalk"><input id="bibleTalk" type="radio" name="assignmentType">Bible Talk</label>
                </div>
                <div class="radio">
                  <label for="other"><input id="other" type="radio" name="assignmentType">Other...</label>
                </div>
              </div>

              <div id="button-row" class="pull-left">
                <button id="createAssignment" class="btn btn-default" type="submit">create</button>
              </div>
              <div id="button-row" class="pull-right">
                <button id="clearAll" class="btn btn-default btn-danger" type="submit">clear all</button>
              </div>

            </form>
          </div>
          <div class="page-header">

            <div class="pull-right form-inline">
              <div class="btn-group">
                <button class="btn btn-primary" data-calendar-nav="prev">
                  << Prev</button> <button class="btn" data-calendar-nav="today">Today
                </button>
                <button class="btn btn-primary" data-calendar-nav="next">Next >></button>
              </div>
              <div class="btn-group">
                <button class="btn btn-warning" data-calendar-view="year">Year</button>
                <button class="btn btn-warning active" data-calendar-view="month">Month</button>
                <button class="btn btn-warning" data-calendar-view="week">Week</button>
              </div>
            </div>

            <h3></h3>
          </div>

          <!-- Calendar  -->
          <div id="calendar"></div>
          <div class="modal fade" role="dialog" id="events-modal">
            <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                <h3 class="modal-title">Event</h3>
              </div>
              <div class="modal-body" style="height: 400px">
              </div>
              <div class="modal-footer">
                <a href="#" data-dismiss="modal" class="btn">Close</a>
              </div>
            </div>
          </div>
          </div>

        </div>
      </div>
    </div>
  </div>



  <!-- Calendar -->
  <script type="text/javascript" src="bower_components/underscore/underscore-min.js"></script>
  <script type="text/javascript" src="bower_components/moment/moment.js"></script>
  <script type="text/javascript" src="bower_components/bootstrap-calendar/js/calendar.js"></script>
  <script type="text/javascript" src="bower_components/bootstrap-calendar/js/app.js"></script>
  <script type="text/javascript">
      var calendar = $("#calendar").calendar({
        tmpl_path: "./tmpls/",
        format12: true,
        modal: "#events-modal",
        modal_type: "template",
        modal_title: function(e) {
          return e.title
        },
        events_source: getAssignments
      });

    $('.cal-cell').unbind("dblclick");
    $( "*[data-cal-date]").unbind( "click" );
  </script>
</body>

</html>
